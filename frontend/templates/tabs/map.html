<div class="ui grid">
    <div class="row">
        <div class="column">
            <div id="map_graph"></div>
        </div>
    </div>
    <div class="row">
        <div class="four wide column">
            <button class="ui fluid green button" id="start_map_simulation">Моделировать</button>
        </div>
        <div class="three wide column">
            <div class="ui right labeled input fluid">
              <label for="map_start_time" class="ui label">Старт</label>
              <input type="text" id="map_start_time" value="0">
            </div>
        </div>
        <div class="three wide column">
            <div class="ui right labeled input fluid">
              <label for="map_end_time" class="ui label">Стоп</label>
              <input type="text" id="map_end_time" value="10000">
            </div>
        </div>
        <div class="three wide column">
            <div class="ui right labeled input fluid">
              <label for="map_step" class="ui label">Шаг</label>
              <input type="text" id="map_step" value="100">
            </div>
        </div>
        <div class="three wide column">
            <div class="ui right labeled input fluid">
              <label for="map_step" class="ui label">Время</label>
              <input type="text" id="current_time" value="0">
            </div>
        </div>
    </div>
</div>
<script>
    generateEmptyMap()
</script>
<script>
    $("#start_map_simulation").on('click', async function () {
        let data = {}
        data['satellites'] = getForms('#satellite-tab-content form')
        data['objects'] = getForms('#object-tab-content form')
        data['recipients'] = getForms('#recipient-tab-content form')
        generateMap(data)
        let start = Number($('#map_start_time').val())
        let end = Number($('#map_end_time').val())
        let step = Number($('#map_step').val())

        for (let i = start; i <= end; i+=step) {
            updateMap(data, i)
        }
    })
</script>